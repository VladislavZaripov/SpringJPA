CREATE SEQUENCE ID_TEST START WITH 1;
CREATE TABLE TEST
(
ID NUMBER DEFAULT ID_TEST.NEXTVAL NOT NULL,
TEXT VARCHAR2(60)
);
INSERT INTO TEST (TEXT) VALUES ('text_01');
INSERT INTO TEST (TEXT) VALUES ('text_02');

CREATE SEQUENCE ID_SINGER START WITH 1;

CREATE TABLE SINGER
(
ID NUMBER DEFAULT ID_SINGER.NEXTVAL NOT NULL,
FIRST_NAME VARCHAR2(60) NOT NULL,
LAST_NAME VARCHAR2(40) NOT NULL,
BIRTH_DATE DATE,
VERSION NUMBER DEFAULT 0 NOT NULL,
CONSTRAINT CON_SINGER_01 PRIMARY KEY(ID),
CONSTRAINT CON_SINGER_02 UNIQUE (FIRST_NAME,LAST_NAME)
);

CREATE SEQUENCE ID_ALBUM START WITH 1;

CREATE TABLE ALBUM
(
ID NUMBER DEFAULT ID_ALBUM.NEXTVAL NOT NULL,
SINGER_ID NUMBER NOT NULL,
TITLE VARCHAR2(100) NOT NULL,
RELEASE_DATE DATE,
VERSION NUMBER DEFAULT 0 NOT NULL,
CONSTRAINT CON_ALBUM_01 UNIQUE (SINGER_ID,TITLE),
CONSTRAINT CON_ALBUM_02 PRIMARY KEY(ID),
CONSTRAINT CON_ALBUM_03 FOREIGN KEY (SINGER_ID) REFERENCES SINGER (ID)
);

CREATE TABLE INSTRUMENT
(
INSTRUMENT_ID VARCHAR2(20) NOT NULL,
CONSTRAINT CON_INSTRUMENT_01 PRIMARY KEY(INSTRUMENT_ID)
);

CREATE TABLE SINGER_INSTRUMENT
(
SINGER_ID NUMBER NOT NULL,
INSTRUMENT_ID VARCHAR2(20) NOT NULL,
CONSTRAINT CON_SINGER_INSTRUMENT_01 PRIMARY KEY (SINGER_ID,INSTRUMENT_ID),
CONSTRAINT CON_SINGER_INSTRUMENT_02 FOREIGN KEY (SINGER_ID) REFERENCES SINGER (ID),
CONSTRAINT CON_SINGER_INSTRUMENT_03 FOREIGN KEY (INSTRUMENT_ID) REFERENCES INSTRUMENT (INSTRUMENT_ID)
);

insert into singer (first_name, last_name, birth_date) values ('John', 'Mayer', '16.OCT.1977');
insert into singer (first_name, last_name, birth_date) values ('Eric', 'Clapton', '30.MAR.1945');
insert into singer (first_name, last_name, birth_date) values ('John', 'Butler', '01.APR.1975');

insert into album (singer_id, title, release_date) values (1, 'The Search For Everything', '20.JAN.2017');
insert into album (singer_id, title, release_date) values (1, 'Battle Studies', '17.NOV.2009');
insert into album (singer_id, title, release_date) values (2, 'From The Cradle ', '13.SEP.1994');

insert into instrument (instrument_id) values ( 'Guitar');
insert into instrument (instrument_id) values ( 'Piano');
insert into instrument (instrument_id) values ( 'Voice');
insert into instrument (instrument_id) values ( 'Drums');
insert into instrument (instrument_id) values ( 'Synthesizer');

insert into singer_instrument(singer_id, instrument_id) values (1, 'Guitar');
insert into singer_instrument(singer_id, instrument_id) values (1, 'Piano');
insert into singer_instrument(singer_id, instrument_id) values (2, 'Guitar');

DROP TABLE SINGER_INSTRUMENT;
DROP TABLE INSTRUMENT;
DROP TABLE ALBUM;
DROP TABLE SINGER;
DROP TABLE SINGER_AUDIT;
DROP TABLE SINGER_AUDIT_H;
DROP SEQUENCE ID_SINGER;
DROP SEQUENCE ID_ALBUM;
DROP SEQUENCE ID_SINGER_AUDIT;
DROP SEQUENCE ID_SINGER_AUDIT_H;

CREATE SEQUENCE ID_SINGER_AUDIT START WITH 1;

CREATE TABLE SINGER_AUDIT
(
ID NUMBER DEFAULT ID_SINGER_AUDIT.NEXTVAL NOT NULL,
FIRST_NAME VARCHAR2(60) NOT NULL,
LAST_NAME VARCHAR2(40) NOT NULL,
BIRTH_DATE DATE,
VERSION NUMBER DEFAULT 0 NOT NULL,
CREATED_BY VARCHAR2(20),
CREATED_DATE TIMESTAMP,
LAST_MODIFIED_BY VARCHAR2(20),
LAST_MODIFIED_DATE TIMESTAMP,
CONSTRAINT CON_SINGER_AUDIT_01 PRIMARY KEY(ID),
CONSTRAINT CON_SINGER_AUDIT_02 UNIQUE (FIRST_NAME,LAST_NAME)
);

CREATE SEQUENCE ID_SINGER_AUDIT_H START WITH 1;

CREATE TABLE SINGER_AUDIT_H
(
ID NUMBER DEFAULT ID_SINGER_AUDIT_H.NEXTVAL NOT NULL,
FIRST_NAME VARCHAR2(60) NOT NULL,
LAST_NAME VARCHAR2(40) NOT NULL,
BIRTH_DATE DATE,
VERSION NUMBER DEFAULT 0 NOT NULL,
CREATED_BY VARCHAR2(20),
CREATED_DATE TIMESTAMP,
LAST_MODIFIED_BY VARCHAR2(20),
LAST_MODIFIED_DATE TIMESTAMP,
AUDIT_REVISION NUMBER NOT NULL,
ACTION_TYPE NUMBER,
AUDIT_REVISION_END NUMBER,
AUDIT_REVISION_END_TS TIMESTAMP,
CONSTRAINT CON_SINGER_AUDIT_H_01 PRIMARY KEY(ID,AUDIT_REVISION),
CONSTRAINT CON_SINGER_AUDIT_H_02 UNIQUE (FIRST_NAME,LAST_NAME)
);

CREATE SEQUENCE REV_REVINFO START WITH 1;
CREATE TABLE REVINFO
(
REVTSTMP NUMBER NOT NULL,
REV NUMBER DEFAULT REV_REVINFO.NEXTVAL NOT NULL,
CONSTRAINT REVINFO_01 PRIMARY KEY(REVTSTMP,REV)
)


CREATE SEQUENCE DefaultRevisionEntity_SEQ START WITH 1;